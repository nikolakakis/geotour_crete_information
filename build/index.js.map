{"version":3,"file":"index.js","mappings":"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","sources":["webpack://geotour-crete-information/./src/modules/events.js","webpack://geotour-crete-information/./src/modules/pois.js","webpack://geotour-crete-information/./sass/main.scss","webpack://geotour-crete-information/webpack/bootstrap","webpack://geotour-crete-information/webpack/runtime/define property getters","webpack://geotour-crete-information/webpack/runtime/hasOwnProperty shorthand","webpack://geotour-crete-information/webpack/runtime/make namespace object","webpack://geotour-crete-information/./src/index.js"],"sourcesContent":["export default class EVENTS {\r\n    constructor() {\r\n      // Get shortcode parameters (make sure you have a way to access them, \r\n      // e.g., using wp_localize_script as mentioned before)\r\n      this.userLat = parseFloat(geotourEventsParams.latitude);  \r\n      this.userLng = parseFloat(geotourEventsParams.longitude);\r\n      this.radius = parseFloat(geotourEventsParams.radius); \r\n  \r\n      this.apiUrl = 'https://www.geotour.gr/wp-json/tribe/events/v1/events';\r\n      this.fetchEvents();\r\n    }\r\n  \r\n    async fetchEvents() {\r\n      try {\r\n        const response = await fetch(this.apiUrl);\r\n        const data = await response.json();\r\n        this.events = data.events;\r\n        this.filterAndDisplayEvents();\r\n      } catch (error) {\r\n        console.error('Error fetching events:', error);\r\n        // Add error handling logic here (e.g., display an error message)\r\n      }\r\n    }\r\n  \r\n    haversineDistance(lat1, lon1, lat2, lon2) {\r\n        const R = 6371; // Earth radius in km\r\n        const dLat = (lat2 - lat1) * Math.PI / 180;\r\n        const dLon = (lon2 - lon1) * Math.PI / 180;\r\n        const a = \r\n          Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n          Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * \r\n          Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n        const distance = R * c; // Distance in km\r\n        return distance;\r\n    }\r\n  \r\n    filterAndDisplayEvents() {\r\n      const filteredEvents = this.events.filter(event => {\r\n        const eventLat = event.venue.geo_lat;\r\n        const eventLng = event.venue.geo_lng;\r\n        const distance = this.haversineDistance(this.userLat, this.userLng, eventLat, eventLng);        \r\n\r\n        return distance <= this.radius;\r\n      });\r\n  \r\n      // Generate HTML to display filteredEvents\r\n      const eventsContainer = document.getElementById('geotour-events-container'); // Replace with your actual container ID\r\n      if (eventsContainer) {\r\n        eventsContainer.innerHTML = ''; // Clear previous content\r\n       \r\n\r\n\r\n        if (filteredEvents.length > 0) {            \r\n\r\n            const maxItems = parseInt(geotourEventsParams['max-items'], 10) || 6; // Get maxItems, default to 6\r\n            const displayedEvents = filteredEvents.slice(0, maxItems); // Limit the displayed events\r\n\r\n            displayedEvents.forEach(event => {\r\n                const eventDiv = document.createElement('div');\r\n                eventDiv.classList.add('geotour-event');\r\n\r\n                let organizerName = 'N/A';\r\n                let organizerLink = '#'; // Default link if no organizer\r\n                if (event.organizer && event.organizer.length > 0) {\r\n                organizerName = event.organizer[0].organizer;\r\n                organizerLink = event.organizer[0].url; \r\n                }\r\n\r\n                const date = new Date(event.start_date);\r\n                const day = date.toLocaleDateString('en-GB', { day: 'numeric' });\r\n                const month = date.toLocaleDateString('en-GB', { month: 'long' });\r\n                const year = date.toLocaleDateString('en-GB', { year: 'numeric' });  \r\n                // Calculate date difference\r\n                //const startDate = new Date(event.start_date);\r\n                const endDate = new Date(event.end_date); \r\n                const daysDifference = Math.ceil((endDate - date) / (1000 * 60 * 60 * 24));\r\n\r\n                // Generate \"X days event\" string\r\n                const daysEventString = daysDifference > 1 ? `<p class=\"days-event\">${daysDifference} days event</p>` : \"\";\r\n\r\n\r\n                eventDiv.innerHTML = `\r\n                    <a target=\"_blank\" href=\"${event.url}\"><div class=\"featured-image\" style=\"background-image: url(${event.image.url});\"></div></a> \r\n                    <h3><a href=\"${event.url}\">${event.title}</a></h3>\r\n                    <div class=\"event-details\">\r\n                        <div class=\"column\">\r\n                        <p class=\"date\">\r\n                            <span class=\"day\">${day}</span> \r\n                            <span class=\"month\">${month}</span> \r\n                            <span class=\"year\">${year}</span> \r\n                        </p>\r\n                        <div class=\"event-duration\">${daysEventString}</div> \r\n                        </div>\r\n                        <div class=\"column\">\r\n                        <p><span>Taking place in:</span> <a target=\"_blank\" href=\"${event.venue.url}\">${event.venue.venue}</a></p>\r\n                        <p><span>Organizer:</span> <a target=\"_blank\" href=\"${organizerLink}\">${organizerName}</a></p> \r\n                        </div>\r\n                    </div>\r\n                `;\r\n                eventsContainer.appendChild(eventDiv);\r\n            });\r\n\r\n            // Add \"More Events\" link if needed\r\n            if (filteredEvents.length > maxItems) {\r\n                const moreEventsLink = document.createElement('a');\r\n                moreEventsLink.href = 'https://www.geotour.gr/events';\r\n                moreEventsLink.target = '_blank';\r\n                moreEventsLink.textContent = 'View More Events';\r\n                eventsContainer.appendChild(moreEventsLink);\r\n            }\r\n        } else {\r\n          eventsContainer.innerHTML = '<p>No events found within the specified radius.</p>';\r\n        }\r\n      }\r\n    }\r\n  }","\r\n//import $ from 'jquery';\r\n\r\nvar thelang = document.getElementsByTagName('html')[0].getAttribute('lang');\r\n\r\ndocument.addEventListener('DOMContentLoaded', (event) => {\r\n    const poiContainers = document.querySelectorAll('.pois-container');\r\n    poiContainers.forEach(container => {\r\n        // Get the container ID from the localized data\r\n        const containerId = container.id; \r\n\r\n        // Initialize POIS with the container ID\r\n        new POIS(containerId); \r\n    });\r\n});\r\n\r\nclass POIS{\r\n    constructor(containerId) { \r\n        // Select the container by ID (moved inside the constructor)\r\n        this.container = document.getElementById(containerId); \r\n\r\n        // Check if the container element exists before accessing its dataset\r\n        if (this.container) { \r\n            this.apiUrl = this.container.dataset.apiurl;\r\n            this.getPOIData();\r\n        } else {\r\n            //console.error('POIS container element not found:', containerId);\r\n        }\r\n    }\r\n\r\n    getPOIData() {\r\n        console.log(\"API URL:\", this.apiUrl); // Add this line\r\n        fetch(this.apiUrl)\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error('Network response was not ok');\r\n                }\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                this.displayPOIs(data);   \r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error fetching POI data:\", error);\r\n                this.container.innerHTML = \"<p>Error loading POIs.</p>\";\r\n            });\r\n    }\r\n\r\n    displayPOIs(pois) {\r\n        let html = \"\";\r\n        pois.forEach(poi => {\r\n            html += `\r\n            <div class=\"poi-item\">\r\n                <a target=\"_blank\" href=\"${poi.url}\">\r\n                <div class=\"poi-image-wrapper\"> \r\n                    <img src=\"${poi.listingsThumbUrl}\" alt=\"${poi.title} featured image\">\r\n                    <div class=\"poi-categories\">${poi.listingCategory.map(cat => cat.name).join(', ')}</div>\r\n                    <div class=\"poi-distance\">${poi.distance} km</div>\r\n                </div>\r\n                </a>\r\n                <h3><a target=\"_blank\" href=\"${poi.url}\">${poi.title}</a></h3>\r\n                <p class=\"poi-excerpt\">${poi.excerpt}</p> \r\n            </div>\r\n            `; \r\n        });\r\n\r\n        this.container.innerHTML = html;\r\n    }\r\n}\r\n\r\nexport default POIS;","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","//import $ from 'jquery';\r\nimport \"../sass/main.scss\"\r\n// Our modules / classes\r\nimport POIS from \"./modules/pois\"\r\nimport EVENTS from \"./modules/events\"\r\n\r\nconst docready = new POIS()\r\nconst theevents = new EVENTS()\r\n"],"names":["EVENTS","constructor","userLat","parseFloat","geotourEventsParams","latitude","userLng","longitude","radius","apiUrl","fetchEvents","response","fetch","data","json","events","filterAndDisplayEvents","error","console","haversineDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","c","atan2","sqrt","distance","filteredEvents","filter","event","eventLat","venue","geo_lat","eventLng","geo_lng","eventsContainer","document","getElementById","innerHTML","length","maxItems","parseInt","displayedEvents","slice","forEach","eventDiv","createElement","classList","add","organizerName","organizerLink","organizer","url","date","Date","start_date","day","toLocaleDateString","month","year","endDate","end_date","daysDifference","ceil","daysEventString","image","title","appendChild","moreEventsLink","href","target","textContent","thelang","getElementsByTagName","getAttribute","addEventListener","poiContainers","querySelectorAll","container","containerId","id","POIS","dataset","apiurl","getPOIData","log","then","ok","Error","displayPOIs","catch","pois","html","poi","listingsThumbUrl","listingCategory","map","cat","name","join","excerpt","docready","theevents"],"sourceRoot":""}